/**
 * Deasilsoft/Scroller v2.1
 * https://deasilsoft.com
 *
 * Copyright (c) 2018-2019 Deasilsoft
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * @param {Array} links
 * @param {Object} options
 * @return {number} error code (-1: no jQuery, -2 invalid links parameter, -3 invalid options parameter)
 */
let DeasilsoftScroller=function(links,options={}){if(typeof($)==="undefined")return-1;if(!Array.isArray(links))return-2;if(!(options instanceof Object))return-3;const OPTIONS_DEFAULT={"nav":{"classes":{"active":"active",},"paths":{"active":"body > header > nav .nav-item.active","link":"body > header > nav .nav-item > .nav-link[href^=\"${link}\"]",},},"resize":{"timer":250,},"touch":{"percentage":0.66,},};let isScrolling,currentIndex,resizeAction,touchBegin;options=$.extend(!0,OPTIONS_DEFAULT,options);console.log(options);$(document).ready(function(){if(location.hash!=="")scrollTo(location.hash)});$(window).on("resize",function(){clearTimeout(resizeAction);resizeAction=setTimeout(function(){scrollTo(links[currentIndex])},options.resize.timer)});$(window).bind("mousewheel",function(e){let mousewheel=e.originalEvent.wheelDelta;if(mousewheel>0)scrollPrevious();else if(mousewheel<0)scrollNext()});$(document).on("touchstart",function(e){touchBegin=e.originalEvent.touches[0].clientY});$(document).on("touchend",function(e){let touchEnd=e.originalEvent.changedTouches[0].clientY;if(touchBegin-touchEnd<$(window).height()*-options.touch.percentage)scrollPrevious();else if(touchBegin-touchEnd>$(window).height()*options.touch.percentage)scrollNext()});$(navLink("#")).on("click",function(e){let link=$(this).attr("href");scrollTo(link);e.preventDefault()});$(document).on("scroll",function(){if(!isScrolling)$("html,body").scrollTop($(links[currentIndex]).offset().top)});function scrollPrevious(){currentIndex--;if(currentIndex<0)currentIndex=links.length-1;scrollTo(links[currentIndex])}
function scrollNext(){currentIndex++;if(currentIndex>=links.length)currentIndex=0;scrollTo(links[currentIndex])}
function scrollTo(link){if(links.includes(link)&&!isScrolling){isScrolling=!0;$("html,body").animate({scrollTop:$(link).offset().top,},{queue:!1,complete:function(){isScrolling=!1;currentIndex=links.indexOf(link);$(options.nav.paths.active).removeClass(options.nav.classes.active);$(navLink(link)).parent().addClass(options.nav.classes.active);history.pushState(null,null,link)},})}}
function navLink(link){return options.nav.paths.link.replace("${link}",link)}
return 1}
